# 1. 了解Git
# 2. 版本控制
无论Git还是SVM都是用来版本控制，所谓的版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。 除了项目源代码，你可以对任何类型的文件进行版本控制。
Git是目前世界上最先进的分布式版本控制系统，解决了在不同系统上的开发者协同工作的问题。
# 3. Git安装
ubuntu下安装就是一行命令
```shell
sudo apt-get install git
```
# 4. 创建本地仓库
新建文件夹
```shell
cd ~/myproject/
```
初始化myproject文件夹
```shell
git init
```
# 5. 配置个人信息
你可以配置全局信息或者本项目个人信息
配置全局信息直接```--global```
```shell
git config --global user.name 'MaoliRunsen'
git config --global user.email '2953510364@qq.com'
```
配置信息存储在当前目录下的.git/config下
```shell
cat .git/config
```
# 6. 添加文件
创建好了本地仓库，就准备开始**开发**了。

在项目文件加下创建readme.txt文件，输入以下内容。
```
我是Runsen，一个化工的专业的码农
这是一个git学习的项目。
将所有的博客进行汇总整理
```
先添加到暂存区
```shell
git add readme.txt
```
提交到仓库
```shell
git commit -m '第一次提交文件'
```

```git commit```命令的，-m参数后输入的内容是提交说明。命令执行成功后显示几个文件被改动，加了多少行。每提交一次就会生成一个版本。

```git add . ```可以一次性把当前目录中所有有改动的文件都添加到暂存区。

# 7. 修改文件
```
我是Runsen，一个化工的专业的码农
这是一个git学习的项目。
将所有的博客进行汇总整理
然后删除之前Git的博客。
```
然后再次提交，Git add 和Git commit

# 8. 错误提交
结果我在提交的时候，发现了commit错误了，这不是第一次提交，而是第二次，其实我是故意的。

辛勤的工作一段时候，我提交了2次了，有2个的版本，怎么查看这些提交记录呢？

```git log```是查看历史版本
![](https://camo.githubusercontent.com/fe1dd12c5be7bd8e91c6b5fb9a9551b4549f92d220f965deaa4bd6957ab38ad9/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303230303531313131333632383531342e706e67)

从上图中看到，我们需要删除第二次的Commit，如何删除呢，答案就是**版本回退**

# 9. 版本回退
这是就reset就可以了，
```shell
git reset --hard HEAD^
```
重要点终于来了：
- HEAD表示当前最新版本
- HEAD^表示当前最新版本的前一个版本
- HEAD^^表示当前最新版本的前两个版本，以此类推
- HEAD~1表示当前最新版本的前一个版本
- HEAD~8表示当前最新版本的前8个版本，以此类推

这是我们查看Git lo 就发现只有第一次的提交，可以看日期时间区别。
![](https://camo.githubusercontent.com/7119e2a1699c33d04df12d7b47cbf3f7ad6bfe33d42ed5748432c2fb6b28b135/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303230303531313131343431313237322e706e67)
git reset --hard 版本号

当版本非常多时选择这种方法。版本号就是每次commit生成的hash值，只用取前几位数。

这时，查看readdme.txt
![](https://camo.githubusercontent.com/b2edaefecd9705ba4ff4782ab84fed209657c6a003d04a8294234fbbf4c4ea0a/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303230303531313131353730353338322e706e67)

没有了 

然后删除之前Git的博客。

这样就会产生一个问题，如果你提交错误和选择回退，这样你辛苦写的代码会消失。

因此，如果Commit错误了，回退是错误的办法。

# 10. 回到原来版本
既然回退是错误，那么就需要回到原来最新版本，不然你写的代码全没了

只要上面的命令行窗口还没有被关掉，你就可以顺着往上找到上面最新的```commit id```是 ```af316a589238fffca87806ceed36a96992cf66b9```，于是就可以指定回到未来的某个版本，只要前八个：```af316a58```
![](https://camo.githubusercontent.com/3d8c926f68fa15f760906ab34fb5b683d86e064622886fe0f967dd0ac69dd9a1/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303230303531313132313033363936322e706e67)
![](https://camo.githubusercontent.com/480b8f3b09ed988a9068084d4080774529d799c809d1075adf5f1b694edf28f1/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303230303531313132313335353830362e706e67)
![](https://camo.githubusercontent.com/133f0b4862484b7b03b0d4844fe9a3f26890ac6e8f788f6d19a70f1a89f5b6aa/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303230303531313132313431313930342e706e67)

readme就回到第二次的状态。

假如你是一个大傻逼，不小心关闭了窗口，就后悔了，想恢复到新版本怎么办？找不到新版本的commit id怎么办？

Git提供了一个命令git reflog用来记录你的每一次命令，然后你可以根据对应的commit id回到你想要的版本：
![](https://camo.githubusercontent.com/41af5af2f671fa56155d0f6bf742af573c9145351cf5261118c6ea8cb88ac3b3/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303230303531313132313631323639382e706e67)

af316a58同样可以找的到。如果你删除了git的隐藏文件，那你真的凉凉了，回家睡觉去吧。

# 11. 正确方法
上面都是演示一些git的常见错误，我们现在是回到了错误提交的commit上，所以还没有解决。

直接用git commit --amend 就可以了，修改本地最近一次已提交的注释
![](https://camo.githubusercontent.com/714704f184aa3442a22d0657b10d019782bb3102b6aa9819c69373c942a608c9/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f323032303035313131323237343235382e706e67)

下面把第一次改为第二次，这是Vim的用法。
![](https://camo.githubusercontent.com/31b405d91789e2508bab52baca59cc1c4dd5c3fc418920887d783e1570acbd18/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303230303531313132323635383433372e706e67)

你再看看Git log，OK 解决。
![](https://camo.githubusercontent.com/235b0949d8ae013252c0bd3b3b29d4ba07af665273eb0da67d491ba53a12a5f9/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303230303531313132323833303334382e706e67)

每次在做一些大动作（rebasing）之前，建议备份整个版本库，以防万一。

git的历史记录是不可修改的，也就是说你不能更改任何已经发生的事情。你做的任何操作都只是在原来的操作上修改。也就是说，即使你删除了一个分支，修改了一个提交，或者强制重置，你仍然可以回滚这些操作。

# 12. 总结

今天简单了入了Git的坑，还没完，下面还是要继续把Git搞定，才能开始学习编程语言。

下篇的内容跟下图几张图有关。

![](https://camo.githubusercontent.com/25628a63cf05166f614ac5d9a130b2aaf3b9c5b9f6c03d3b1296eb25be31329c/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303139303830313137323335323837322e706e67)
![](https://camo.githubusercontent.com/627361a425ed3925186296b4d91d40393eeaf66983e9fbc9f44878ad23f73248/68747470733a2f2f696d672d626c6f672e6373646e696d672e636e2f32303139303830313137323430333931312e706e67)
